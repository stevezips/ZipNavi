<HTML:5>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>First Page</title>
        <script src="js/jquery.js"></script>
    </head>
    <body style="background-color : #f5f2f2 ; overflow: hidden;">
        <style>
            .address_search{
                font-size: 20px;
                font-weight: bold;
                border: #007ac3 5px solid; 
                text-align: left; 
                padding-left: 10px; 
                margin-right: 10px;
                vertical-align: middle; 
                width: 600px; height: 50px;
            }
            .container{
                height: 100%;
                display: flex;
                overflow: auto;
                overflow-y: scroll;
                scroll-snap-type: y mandatory;
            }
            .item{
                overflow: hidden;
                height:100%;
                scroll-snap-align: start;
            }
            .select_area_box {
                border: 1px solid #000000;
                border-radius: 5px;
                font-size: 19px;
                height: 40px;
                line-height: 40px;
            }
            .select_area_box:focus {
                outline: none
            }
        
        </style>
        <script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script>
        <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=fb926e363d9a87e9712ed240cb75a7b0&libraries=services"></script>
        <main id="container">
            <section id="main_screen">
                <div id="team_logo_panel" style="width:100%; height:10%; text-align: left; position: fixed;" >
                    <input type="image" src="images/project_logo.png" style="height:100%;" onclick="moveTop()">
                </div>
                <div id="logo_panel" style="padding-top:10%; width: 100%; height:50%; text-align: center;">
                    <input type="image" src="images/project_logo.png" style="height: 50%;" disabled="true">
                    <br>
                    <input type = "image" src = "images/first_phrase.png" style = "width: 18%; height : 10% ;" disabled = "true">
                    <!-- changed file -->
                </div>
                <div id="search_method_panel" style="margin-top: -100px; width: 100%; text-align: center;">
                    <div id="check_my_house_panel" style="width: 100%; height:5px; text-align: center; float: top;">
                        <input id="check_my_house" type="image" src="images/second_phrase.png" onfocus="this.blur()" onclick="moveMine()">
                        <!-- onmouseover="this.src='images/check_my_house_white.png'" onmouseout="this.src='images/second_phrase.png'"> -->
                    </div>
                    <div id="check_other_house_panel" style="width: 100%; height:5px; margin-top: 6%; text-align: center; float: bottom;">
                        <input id="check_others_house" type="image" src="images/third_phrase.png" onfocus="this.blur()" onclick="moveOthers()">
                        <!-- onmouseover="this.src='images/check_others_house_white.png'" onmouseout="this.src='images/third_phrase.png'"> -->
                    </div>
                </div>
                <div style="height: 20%;"></div>
            </section>
            <section id="first_screen">
               <div id="first_screen_first_line" style="padding-top:15%; height:10%; text-align: center;">
                    <input type="image" src="images/first_screen_first_line.png" disabled="true">
                </div>
                <div id="first_screen_second_line"style="height:10%; text-align:center;">
                    <input type="image" src="images/first_screen_second_line.png"disabled="true">
                </div>
                <div id="first_screen_third_line"style="height:10%; text-align:center;">
                    <input type="image" src="images/first_screen_third_line.png"disabled="true">
                </div>
                <div id="first_screen_fourth_line"style="height:10%; text-align:center;">
                    <input type="image" src="images/first_screen_fourth_line.png"disabled="true">
                </div>
                <div id="zipfund_search_area" style="height: 20%; text-align: center;"> 
                    <select id="select_area_province" class="select_area_box">
                        <option value disabled class selected="selected">시/도 선택</option>]   
                        <option label="서울특별시" value="11">서울특별시</option>
                        <option label="부산광역시" value="26">부산광역시</option>
                        <option label="대구광역시" value="27">대구광역시</option>
                        <option label="인천광역시" value="28">인천광역시</option>
                        <option label="광주광역시" value="29">광주광역시</option>
                        <option label="대전광역시" value="30">대전광역시</option>
                        <option label="울산광역시" value="31">울산광역시</option>
                        <option label="세종특별자치시" value="36">세종특별자치시</option>
                        <option label="경기도" value="41">경기도</option>
                        <option label="강원도" value="42">강원도</option>
                        <option label="충청북도" value="43">충청북도</option>
                        <option label="충청남도" value="44">충청남도</option>
                        <option label="전라북도" value="45">전라북도</option>
                        <option label="전라남도" value="46">전라남도</option>
                        <option label="경상북도" value="47">경상북도</option>
                        <option label="경상남도" value="48">경상남도</option>
                        <option label="제주특별자치도" value="50">제주특별자치도</option>
                    </select>
                    <select id="select_area_city" class="select_area_box">
                        <option value disabled class selected="selected">시/군/구 선택</option>
                    </select>
                    <select id="select_area_town" class="select_area_box">
                        <option value disabled class selected="selected">읍/면/동 선택</option>
                    </select>
                    <select id="select_area_apart" class="select_area_box">
                        <option value disabled class selected="selected">아파트 선택</option>
                    </select>
                    <select id="select_area_meter" class="select_area_box">
                        <option value disabled class selected="selected">평방미터 선택</option>
                    </select>
                    <input type="image" onclick="SearchApartment()" src="images/zoom_2.png" style="vertical-align: middle; width: 30px; height: 30px;" onfocus="this.blur()"><br>
                </div>
                <div id="zipfund_search_button" style="height:30%; text-align: center;">
            </section>
            <section id="second_screen">
                <div id="second_screen_first_line" style="padding-top:15%; height:10%; text-align: center;">
                    <input type="image" src="images/second_screen_first_line.png" disabled="true">
                </div>
                <div id="second_screen_second_line"style="height:10%; text-align:center;">
                    <input type="image" src="images/second_screen_second_line.png"disabled="true">
                </div>
                <div id="second_screen_third_line"style="height:10%; text-align:center;">
                    <input type="image" src="images/second_screen_third_line.png"disabled="true">
                </div>
                <div id="second_screen_fourth_line"style="height:10%; text-align:center;">
                    <input type="image" src="images/second_screen_fourth_line.png"disabled="true">
                </div>
                <div id="address_search_panel" style="margin-top: 25px; width: 100%; height: 30%; text-align: center;">
                    <input type="text" id="sample_address" class="address_search" placeholder="찾고자 하는 지역의 '구', '동'을 입력하세요.">
                    <input type="image" onclick="SearchAddress()" src="images/zoom_2.png" style="vertical-align: middle; width: 30px; height: 30px;" onfocus="this.blur()"><br>
                    <h1 id="txt_address" style="font-size: 18px; font-weight: bold; font-style: italic; color: #007ac3;"> </h1>
                </div>
            </section>
            <section id="item2" class="item" style="height:0%">
                <div id="area_panel" style="text-align: center; padding-top: 5%;">
                    <h1 style="font-size: 30px;">거래 형태</h1>
                </div>
                <fieldset>
                    <legend style="font-size: 25;font-weight: bold">거주형태</legend><!-- life form -->
                    <div id="life_form">
                        <input type="radio" id="lfOne" name="lifeForm" value="lfOne" checked><label for="lfOne">원룸</label>
                        <input type="radio" id="lfTwo" name="lifeForm" value="lfTwo"><label for="lfTwo">투룸</label>
                        <input type="radio" id="lfOffice" name="lifeForm" value="lfOffice"><label for="lfOffice">오피스텔</label>
                        <input type="radio" id="lfApartment" name="lifeForm" value="lfApartment"><label for="lfApartment">아파트</label>
                        <input type="radio" id="lfNone" name="lifeForm" value="lfNone"><label for="lfNone">무관</label>
                    </div>
                </fieldset>
                <fieldset>
                    <legend style="font-size: 25;font-weight: bold">매매형태</legend><!-- trade form -->
                    <div id="trade_form">
                        <input type="radio" id="tfMonth" name="tradeForm" value="tfMonth" checked><label for="tfMonth">월세</label>
                        <input type="radio" id="tfJeon" name="tradeForm" value="tfJeon"><label for="tfJeon">전세</label>
                        <input type="radio" id="tfPurchase" name="tradeForm" value="tfPurchase"><label for="tfPurchase">매매</label>
                        <input type="radio" id="tfNone" name="tradeForm" value="tfNone"><label for="tfNone">무관</label>
                    </div>
                    <div id="trade_form_range">
                        <input type="range" id="valuePurchase" min="0" max="10000000000" step="100000000" value="300000000" name="valuePurchase">매매가</input><br>
                        <input type="range" id="valueMonth" min="0" max="10000000" step="100000" value="1000000" name="valueMonth">월세</input><br>
                        <input type="range" id="valueDeposit" min="0" max="100000000" step="1000000" value="10000000" name="valueDeposit">보증금</input>
                    </div>
                </fieldset>
                <fieldset>
                    <legend style="font-size: 25;font-weight: bold">추가 정보</legend><!-- additional information -->
                    <div id="gender">
                        <h>성별</h><br> <!-- gender -->
                        <input type="radio" id="gMale" name="gender" value="gMale" checked><label for="gMale">남자</label>
                        <input type="radio" id="gFemale" name="gender" value="gFemale"><label for="gFemale">여자</label>
                        <input type="radio" id="gNone" name="gender" value="gNone"><label for="gNone">무관</label>
                    </div>
                    <div id="age">
                        <h>연령</h><br> <!-- age -->
                        <input type="range" id="aiAge" name="age" min="20" max="90" step="10" value="30">세</input>
                    </div>
                    <div id="elder">
                        <h>노인</h><br> <!-- elder -->
                        <input type="radio" id="eYes" name="old" value="eYes"><label for="eYes">있음</label>
                        <input type="radio" id="eNo" name="old" value="eNo" checked><label for="eNo">없음</label>
                    </div>
                    <div id="dog">
                        <h>반려견</h><br> <!-- dog -->
                        <input type="radio" id="dYes" name="dog" value="dYes"><label for="dYes">있음</label>
                        <input type="radio" id="dNo" name="dog" value="dNo" checked><label for="dNo">없음</label>
                    </div>
                </fieldset>
                <button id="btnConfirm" onclick="SearchApartment()" style="margin-top: 10px;" disabled=true>확인</button>
            </section>
        </main>
        <script>
            var geocoder = new daum.maps.services.Geocoder();
            var coords, lf, tf, tfvp, tfvm, tfvd, aig, aia, aie, aid, coordX, coordY;
            var windowObj;

            var apt_name;
            var price_Time;
            var price_Buy;
            var price_Rent;
            var built_time;
            var phoneNum;

            $('#select_area_province').change(function(){
                $.ajax({
                    /*
                    서울시로 바꾸고 
                    */
                    url: "http://admin.zipfund.co/api/address/city/" + $('#select_area_province').val(),
                    contentType: "application/json",
                    dataType: 'json',
                    success: function(result){
                        $('#select_area_city').empty();
                        $('#select_area_city').append(`<option value disabled class selected="selected">시/군/구 선택</option>`);
                        $('#select_area_town').empty();
                        $('#select_area_town').append(`<option value disabled class selected="selected">읍/면/동 선택</option>`);
                        $('#select_area_apart').empty();
                        $('#select_area_apart').append(`<option value disabled class selected="selected">아파트 선택</option>`);
                        $('#select_area_meter').empty();
                        $('#select_area_meter').append(`<option value disabled class selected="selected">평방미터 선택</option>`);
                        result.codes.map((value) => {
                            var option = $(`<option value=${value.code}>` + value.name +"</option>");
                            $('#select_area_city').append(option);
                        })
                    }
                })
            });
            $('#select_area_city').change(function(){
                $.ajax({
                    /*
                    서울시 XX구 (11215등이 들어옴) ~동을 받아올 차례
                    */
                    url: "http://admin.zipfund.co/api/address/district/" + $('#select_area_city').val(),
                    contentType: "application/json",
                    dataType: 'json',
                    success: function(result){
                        $('#select_area_town').empty();
                        $('#select_area_town').append(`<option value disabled class selected="selected">읍/면/동 선택</option>`);
                        $('#select_area_apart').empty();
                        $('#select_area_apart').append(`<option value disabled class selected="selected">아파트 선택</option>`);
                        $('#select_area_meter').empty();
                        $('#select_area_meter').append(`<option value disabled class selected="selected">평방미터 선택</option>`);
                        result.codes.map((value) => {
                            var option = $(`<option value=${value.code}>` + value.name + "</option>");
                            $('#select_area_town').append(option);
                        })
                    }
                })
            });
            $('#select_area_town').change(function(){
                $.ajax({
                    url: "http://admin.zipfund.co/api/address/apartment/" + $('#select_area_town').val(),
                    contentType: "application/json",
                    dataType: 'json',
                    success: function(result){
                        $('#select_area_apart').empty();
                        $('#select_area_apart').append(`<option value disabled class selected="selected">아파트 선택</option>`);
                        $('#select_area_meter').empty();
                        $('#select_area_meter').append(`<option value disabled class selected="selected">평방미터 선택</option>`);
                        result.codes.map((value) => {
                            var option = $(`<option value=${value.code}>` + value.name + "</option>");
                            $('#select_area_apart').append(option);
                        })
                    }
                })
            });
            $('#select_area_apart').change(function(){
                $.ajax({
                    url: "http://admin.zipfund.co/api/address/unit_type/" + $('#select_area_apart').val(),
                    contentType: "application/json",
                    dataType: 'json',
                    success: function(result){
                        $('#select_area_meter').empty();
                        $('#select_area_meter').append(`<option value disabled class selected="selected">평방미터 선택</option>`);
                        result.codes.map((value) => {
                            var option = $(`<option value=${value.code}>` + value.name + "</option>");
                            $('#select_area_meter').append(option);
                        })
                    }
                })
            });
            function moveTop(){
                var offset=$("#main_screen").offset();
                $("html body").animate({scrollTop:offset.top}, 500);
            }
            function moveMine(){
                var offset=$("#first_screen").offset();
                $("html body").animate({scrollTop:offset.top}, 500);
            }
            function moveOthers(){
                var offset=$("#second_screen").offset();
                $("html body").animate({scrollTop:offset.top}, 500);
            }
            function SearchApartment(){
                var value = $('#select_area_meter').val();
                console.log(value);
                $.ajax({
                    url: "http://admin.zipfund.co/api/address/apartment_info/" + $('#select_area_meter').val(),
                    contentType: "application/json",
                    dataType: 'json',
                    success: function(result){
                        window.open("html/zipfund_first_page_js.html?info=" + value, '_self');
                        console.log(result.map_info.x, result.map_info.y);
                        apt_name = result.name;
                        price_Time = result.kb_price_info.month;
                        price_Buy = result.kb_price_info.price;
                        price_Rent = result.kb_price_info.rent;
                        built_time = result.built_year;
                        phoneNum = result.office_phone;
                    }
                });
            }
            function viewInfoTable(){
                $("#infoAPT_0").html(apt_Name);
                $("#infoAPT_1").html(built_time);
                $("#infoAPT_2").html(price_Time);
                $("#infoAPT_3").html(price_Buy);
                $("#infoAPT_4").html(price_Rent);
                $("#infoAPT_5").html(phoneNum);
            }
            function SearchAddress(){
                var addr = $("#sample_address").val();
                geocoder.addressSearch(addr, function(results, status){
                    if(status === kakao.maps.services.Status.OK){
                        var coords = new kakao.maps.LatLng(results[0].y, results[0].x);
                        coordY = results[0].y;
                        coordX = results[0].x;
                        $("#txt_address").html("<h>" + results[0].address_name + "</h>");
                        $("#txt_address").text = results[0].address_name;
                        $("#btnConfirm").attr('disabled', false);
                        var offset=$("#item2").offset();
                        $("html body").animate({scrollTop:offset.top},500);
                        openChildWindow();
                    }
                    else{
                        $("#txt_address").html("<h>" + "결과를 찾지 못했습니다" + "</h>");
                        $("#btnConfirm").attr('disabled', true);
                        $("#btnConfirm").fadeOut();
                    }
                });
            }
            function openChildWindow(){
                window.open("html/zipnavi_first_page.html?x=" + coordX + "&y=" + coordY, '_self');
            }
        </script>
    </body>
    </html>
</HTML:5>
